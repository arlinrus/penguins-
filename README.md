# Предположение о характере взаимосвязи факторов и результата.

Воспользуемся датасетом с сайта : **https://huggingface.co/datasets/SIH/palmer-penguins**

Проведем анализ полученных данных и получим датасет, состоящий из столбцов: **bill_length_mm, bill_depth_mm,	flipper_length_mm,	body_mass_g,	sex,	year**, где sex заменим на 1 - female и 0 - male. Также уберем пустые значения, чтобы построить более точную линейную модель.

Для того, чтобы проверить данные на наличие выбросов построим **boxplot** для каждого значения столбца с полом пингвина.

<img width="495" alt="Снимок экрана 2024-05-12 в 15 20 54" src="https://github.com/arlinrus/penguins-/assets/111064731/7c80abac-0c1d-41f6-9c03-a468b66bc1ac">

Убедившись, что для KPA нету противоречий, перехоим к анализу.

## Анализ корреляции

### Вычислим коэффициенты b1 и b0 для уравнения линейной регрессии:
Сравним данные длины и шлубины клюа, где глубина - зависимая переменная.  

```
x1 = pgns['bill_length_mm']
y1 = pgns['bill_depth_mm']

mean_x = sum(x1)/len(x1)
mean_y = sum(y1)/len(y1)

covariance = sum((xi-mean_x)*yi-mean_y for xi, yi in zip(x1, y1))
variance = sum((xi - mean_x)**2 for xi in x1)

b1 = covariance / variance
b0 = mean_y - b1*mean_x
```

<dl>
  <dt>Таким образом получим следующие рзультаты:
</dt>
  <dd>b1 - наклон линии:  -0.6580097035844675
    
b0 - интерсепт 46.112549410303366

Уравнение линейной регрессии: y = 46.11 + -0.66*x1</dd>
</dl>

### Рассчитаем объясненную и необъясненную дисперсию
SSR - регрессионный анализ

SSE - ошибка суммы
```
x2 = np.array(pgns['bill_length_mm'])
y2 = np.array(pgns['bill_depth_mm'])

y_pred = b0 + b1*x1

y_mean = np.mean(y2)

#Объясненная дисперсия SSR(регресионный анализ)
SSR = np.sum((y_pred - y_mean)**2)

#Необъясненная дисперсия SSE(ошибка суммы квадратов)
SSE = np.sum((y2 - y_pred)**2)

sum_desp = int(SSR)+ int(SSE)

```
<dl>
  <dt>Получим слудующие результаты</dt>
  <dd>Объясненная дисперсия:  4298.98422197287
    
Необъясненная дисперсия:  4510.710026383096
Сумма:  8808</dd>
</dl>

### Коэффициент детерминации
```
r_2 = SSR / sum_desp 

```
⋅⋅В 34.2% случаев изменения х приводят к изменению y.
Другими словами - точность подбора уравнения регрессии низкая.
Остальные 65.8% изменения Y объясняются факторами, не учтенными в модели.

***Коэффициент детерминации показывает обратную связь между зависимой переменной (y) и независимой переменной (x), увеличение x связано с уменьшением значения  y :  0.4880772277444221***

### 

